<!DOCTYPE html>
<html lang="en">
    <head>
        <title>Archetypum | Tomasulo's algorithm visualizator</title>
        <meta charset="utf-8">
        <link href="index.css" rel="stylesheet" type="text/css">
    </head>
    <body>

        <div>
            <a href="#" id="reset">reset</a> |
            <a href="#" id="conf">configure</a> |
            <a href="#" id="load">load program</a>
            <br>
            <br>

            Clock: <span id="clock"></span> <br>
            Speed: - <input id="speed" type="range" min="1" max="20" step="1" value="5" /> + <br>
            <a href="#" id="play">play</a> |
            <a href="#" id="pause">pause</a> |
            <a href="#" id="step">step by step</a>
            <br>
            <br>


        </div>

        <div>
            <table>
                <caption>Source Code Execution</caption>
                <thead>
                    <tr>
                        <th>#</th>
                        <th>Instr</th>
                        <th>Issue</th>
                        <th>Exec</th>
                        <th>Write</th>
                        <th>Commit</th>
                    </tr>
                </thead>
                <tbody class="tech" id="sourcecode">
                </tbody>
            </table>
        </div>


        <div>
            <table>
                <caption>Reservation Stations</caption>
                <thead>
                    <tr>
                        <th>Name</th>
                        <th>Busy</th>
                        <th>Op</th>
                        <th>V<sub>j</sub></th>
                        <th>V<sub>k</sub></th>
                        <th>Q<sub>j</sub></th>
                        <th>Q<sub>k</sub></th>
                        <th>tag</th>
                    </tr>
                </thead>
                <tbody class="tech" id="rs">
                </tbody>
            </table>
        </div>

        <div>
            <table id="rob">
            </table>
        </div>


        <div>
            <table id="reg">
            </table>
        </div>

        <div>
            <table id="cache">
            </table>
        </div>



        <div id="menu-load" class="menu">
            <center>
            <div class="menu-body">
                <header>input your source || load an example</header>
                <div id="examples">
                    Examples:
                        <a href="#" id="ex-1">1</a>,
                        <a href="#" id="ex-2">2</a>,
                </div>
                <textarea class="tech" id="raw-src" autofocus></textarea>
                <footer>
                    <a href="#" id="rdy">READY</a>
                </footer>
            </div>
            </center>
        </div>

        <div id="menu-conf" class="menu">
            <center>
            <div class="menu-body">
                <header>configure the emulator</header>
                <div id="opts">
                    Regs:<br>
                    <span>#ireg <input type="number" min="0" id="ri" value=7 size=2 max=99 /></span>
                    <span>#freg <input type="number" min="0" id="rf" value=0 size=2 max=99 /></span>
                    <br><br>

                    FUs:<br>
                    Int Addr<span># <input type="number" min="0" id="iaddr" value=3 size=2 max=99 /></span>
                    <span>duration <input type="number" min="0" id="iaddrd" value=2 size=2 max=99 /></span>
                    <br>

                    Int Mult<span># <input type="number" min="0" id="imult" value=3 size=2 max=99 /></span>
                    <span>duration <input type="number" min="0" id="imultd" value=4 size=2 max=99 /></span>
                    <br><br>

                    Pipeline:<br>
                    <span>issue-exec delay <input id="ied" type="checkbox" checked /></span>
                    <span>exec-write delay <input id="ewd" type="checkbox" checked /></span>
                    <br><br>

                    Memory (in cycles):<br>
                    <span>read latency <input type="number" min="0" id="rl" value=1 size=2 max=99 /></span>
                    <span>write latency <input type="number" min="0" id="wl" value=1 size=2 max=99 /></span>
                    <br><br>

                    Cache:<br>
                    <span>algorithm <select id="cache_alg">
                            <option value="no-cache">no cache</option>
                            <option value="nwayset_wb" selected>n-way w.back</option>
                            <option value="nwayset_wt">n-way w.through</option>
                    </select></span><br>
                    <span>N <input type="number" min="0" id="nways" value=2 size=2 max=99 /></span>
                    <span>size <input type="number" min="0" id="csize" value=4 size=2 max=99 /></span>
                    <br>
                    <span>read latency <input type="number" min="0" id="crl" value=0 size=2 max=99 /></span>
                    <span>write latency <input type="number" min="0" id="cwl" value=0 size=2 max=99 /></span>

                    <br><br>

                    Reorder Buffer (ROB):<br>
                    <span>size <input type="number" min="0" id="rsize" value=5 size=2 max=99 /> - <small>0: disable</small></span>

                </div>
                <footer>
                    <a href="#" id="apply_conf">APPLY &amp; RESTART</a>
                </footer>
            </div>
            </center>
        </div>


        <script src="archetypum.js"></script>
    </body>
</html>
